# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код
1.Класс Api
Этот код предоставляет возможность обращения и взаимодействия с сервером через Api,поддерживая базовые методы работы с HTTP-запросами и обработки ответов.
Класс содержит методы :
- handleResponse — функция обработки ответа сервера
- GET — функция принимающая url в качестве аргумента и отправляющая на него запрос
- PUT — функция принимающая url.data в качестве аргументов объект с данными 

2.Класс EventEmitter
Реализует паттерн «Наблюдатель» и позволяет подписываться на события и уведомлять 
о наступлении события.
Класс имеет методы on ,  off ,  emit  — для подписки на событие, отписки от события и о наступлении события соответственно.Это позволяет передавать его в качестве обработчика события в другие классы. Эти
классы будут генерировать события, не будучи при этом напрямую зависимыми от
класса  EventEmitter 

3.Класс Componets
Является абстрактным и на основе которого создаются остальные состовляющие интерфейса.Также предоставляет общие методы управления элементами:
- переключение классов
- управление текстовым содержимым и его изображения


## Слой данных
1.Класс ProductsData
Хранит информацию о данных товаров и логику работы с ними.В полях класса должны храниться такие данные:
- products: ProductsList[] - массив карточек продукта
- preview: string | null - айди(id) конкретно выбранной карточки
- getProducts():ProductsList[] - геттер(GET) ,который должен возвращать список карточек продуктов
- getProduct(id: string):ProductsList - геттер(GET),который должен возвращать айди(id)  продукта для предварительного просмотра

2.Класс BasketData
Хранит информацию о данных товара в корзине и логику работы с ними.В полях класса должны храниться такие данные:
- ProductsList[] -массив продуктов,добавленных в корзину
- get products(): TProductBasket[] -геттер должен возвращать текущий список продуктов в  корзине

Методы для взаимодействия с данными корзины:
- appendToBasket(product: ProductsList): void - метод добавления товара в корзине
- removeFromBasket(product: ProductList): void - метод для удаления товара из корзины.
- isBasketCardHere (product: TProductBasket): void - метод проверки наличия товара в корзине
- getButtonStatus(product: TProductBasket): string - метод не активной кнопки,если товара нет в корзине
- getBasketSum(): number - метод вычисления суммы товаров в корзине
- clearBasket(): void - метод очистки корзины товаров

3.Класс OrderData
Отвечает за хранение данных заказа и логику работы с ними.В полях должны храниться такие данные:
- email: string — электронная почта клиента
- phone: string — номер телефона клиента
- address: string — адрес доставки
- payment: string — способ оплаты 
- ошибки валидации форм

Сеттеры(SET) для взаимодействия с данными заказа :
- setOrderEmail(value: string): void - устанавливает почту клиента
- setOrderPhone(value: string): void- устанавливает номер телефона клиента
- setOrderAddress(value: string): void - устанавливает адрес доставки
- setOrderPayment(value: PaymentType): void - устанавливает способ оплаты


## Класс представления
Осуществляет отображение данных и обработку пользовательских взаимодействий(клик на карточки,кнопки и т.д.) 
1.Класс ModalWindow
Демонстрирует модальное окно пользователю/покупателю,выполняет функции open/close для отображение модального окна.Устанавливает слушатели для закрытия окна с помощью esc,оверлей или клик на крестик.В полях класс должны быть:
- container - контейнер содержимого модального окна
- modalButtonClose - кнопка закрытия модального окна
-  evt - брокер событий

2.Класс CardInfo
Отвечает за отображение карточки товара и корзины, задает в карточке данные категории, заголовка, изображения, цены и описания, так же добавление и удаление товаров в корзине.Должен принимать такие параметры:
- container - контейнер с информацией о карточках
- CardAct - обработчик событий

3.Класс Basket
Класс Basket отвечает за управление корзиной товаров на странице.Он включает в себя отображение списка товаров, расчет общей стоимости и обработку заказа.

Конструктор класса принимает два параметра:
- container: HTML-элемент, который будет служить контейнером для корзины
- evt: объект, реализующий интерфейс, используемый для обработки событий

Методы:
- updateButtonStatus - метод обновляет состояние кнопки оформления заказа в зависимости от общей стоимости товаров в корзине,если сумма ноль - кнопка неактивна
- set price(value: number) - сеттер устанавливает общую стоимость товаров в корзине
- сеттер для обновления списка товаров в корзине

4.Класс Form
Конструктор класса принимает два параметра:
- HTML-элемент формы, который будет служить контейнером для компонента
- объект, реализующий интерфейс , используемый для обработки событий

Методы:
- сеттер устанавливает состояние валидности формы.При ошибке валидации кнопка становится неактивной
- сеттер устанавливает текст ошибок формы

5.Класс OrdersPayment 
Отвечает за управление выбором способа оплаты и адресом доставки в форме заказа.
Конструктор класса принимает два параметра:

- HTML-элемент формы оплаты, который будет служить контейнером для компонента.
- объект, реализующий интерфейс, используемый для обработки событий.

Поля класса:
- кнопка для выбора оплаты онлайн 
- кнопка для выбора оплаты при получении
- поле для ввода адреса доставки

Методы:
- сеттер для поля адреса, который устанавливающий адрес доставки
- метод для сброса состояния кнопок оплаты


6.Класс OrderContacts
Отвечает за управление контактной информацией о пользователе/клиенте
Поля класса:
- поле ввода для электронной почты
- поле ввода для номера телефона

Методы:
- сеттер для поля электронной почты/телефона

7.Класс EverythingOk
Класс отвечает за отображение количества списанных синапсов  в заказе и предоставление возможности закрыть сообщение.
Конструктор принимает два параметра:
- container - содержит страницу, с которой будет работать класс
- SuccessActs - Объект, содержащий обработчики событий

Поля класса:
- close: — кнопка закрытия после успешного оформления заказа
- description: HTMLElement — информация о заказе(количество потраченных синапсов)
Методы:
- set total(total: number) - сеттер отвечает за обновление отображаемой информации о заказе

## Ключевые типы данных
## Товар
export interface ProductsList {
	id: string;
	description: string;
	image: string;
	title: string;
	category: string;
	price: number | null;
}

## Заказ
export interface OrderInfo {
	total: number;
	items: string[];
	email: string;
	phone: string;
	address: string;
	payment: string;
}

## Интерфейс для товаров
export interface ProductsData {
	products: ProductsList[];
	preview: string | null;
	getProducts():ProductsList[];
	getProduct(id: string):ProductsList;
	
}

## Интерфейс для корзины
export interface BasketData {
	products: BasketInfo[];
	appendToBasket(product: ProductsList): void;
	removeFromBasket(product: ProductsList): void;
	getButtonStatus(product: ProductsList): string;
	getBasketSum(): number;
	clearBasket(): void;
	
}

## Интерфейс для заказа
export interface OrderData {
	formErrors: FormError;
	order: OrderInfo;
	setOrderPayment(value: string): void;
	setOrderEmail(value: string): void;
	setOrderPhone(value: string): void;
	validateOrder(): boolean;
	clearOrder(): void;
}

